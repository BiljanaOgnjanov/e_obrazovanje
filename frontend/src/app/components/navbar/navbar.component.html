<style>
  .custom-dropdown {
    position: relative;
  }

  .custom-dropdown-menu {
    position: absolute !important;
    top: 100% !important;
    right: 0 !important;
    left: auto !important;
    min-width: 160px;
    z-index: 1050;
    margin-top: 0.25rem;
  }

  /* Responsive adjustments */
  @media (max-width: 576px) {
    .custom-dropdown-menu {
      min-width: 140px;
    }
  }
</style>

<nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow-sm px-4">
  <div class="container-fluid">
    <a class="navbar-brand fw-bold" href="#">E-Obrazovanje</a>

    @if (auth.currentUser(); as user) {
    <div class="custom-dropdown ms-auto">
      <button
        class="btn btn-dark d-flex gap-2 align-items-center"
        type="button"
        (click)="toggleDropdown()"
      >
        <span>{{ user.username }}</span>
        @if (dropdownOpen()) {
        <i class="bi bi-chevron-up"></i>
        } @else {
        <i class="bi bi-chevron-down"></i>
        }
      </button>

      @if (dropdownOpen()) {
      <ul class="custom-dropdown-menu dropdown-menu show">
        <li>
          <button class="dropdown-item d-flex align-items-center" (click)="logout()">Logout</button>
        </li>
      </ul>
      }
    </div>
    }
  </div>
</nav>
